# @YangMingyu
# https://t.me/ymyuuu
# æ›´æ–°æ—¥æœŸ: 2023-07-06
# å¹¸æœ‰æˆ‘æ¥å±±æœªå­¤

[General]
# IPv6
ipv6 = true
# è·³è¿‡åŸŸåæˆ–è€…IPæ®µ
skip-proxy = 10.0.0.0/8ï¼Œ127.0.0.0/8ï¼Œ169.254.0.0/16ï¼Œ192.0.2.0/24ï¼Œ192.168.0.0/16ï¼Œ198.51.100.0/24ï¼Œ224.0.0.0/4,*.local,localhost
bypass-tun = 10.0.0.0/8ï¼Œ127.0.0.0/8ï¼Œ169.254.0.0/16ï¼Œ192.0.2.0/24ï¼Œ192.168.0.0/16ï¼Œ198.51.100.0/24ï¼Œ224.0.0.0/4
# DNS
dns-server = system,
# DOH 
doh-server = https://doh.pub/dns-query,https://443.66a.net/dns-query/pure,https://pure.66a.net/
# Wi-Fi è®¿é—®
allow-wifi-access = false
wifi-access-http-port = 2003
wifi-access-socks5-port = 101
# ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.apple.com/library/test/success.html
# æµ‹é€Ÿè¶…æ—¶ (s)
test-timeout = 3
# èŠ‚ç‚¹è¿ç»­å¤±è´¥å‡ æ¬¡åè¿›è¡ŒèŠ‚ç‚¹åˆ‡æ¢
switch-node-after-failure-times = 1
# ç½‘ç»œæ¥å£æ¨¡å¼
interface-mode = auto
# udp
allow-udp-proxy = true
# udpç«¯å£ç¦ç”¨
disable-udp-ports = 443
# ä¸¢å¼ƒ STUN
disable-stun = true
# å¿«é€Ÿåˆ‡æ¢
fast-switch = false
# ç­–ç•¥åˆ‡æ¢æ—¶å…³é—­é“¾æ¥
disconnect-on-policy-change = false
# è§£æå™¨
resource-parser = https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Resource/Script/Sub-Store/sub-store-parser_for_loon.js
# geoip
geoip-url = https://github.com/Masaiki/GeoIP2-CN/raw/release/Country.mmdb
# sin
sni-sniffing = true

[Host]

[Proxy]

[Remote Proxy]

[Remote Filter]
# èŠ‚ç‚¹åˆ†ç»„
All = NameRegex, FilterKey = "^(?=.*(.*))(?!.*((?i)é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|TG|å®˜å€|æ¨æ˜å®‡|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|ğŸ®|(\b(GAME|USE|USED|TOTAL|EXPIRE|EMAIL|Panel)\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$"
AI = NameRegex, FilterKey = "GPT|AI|gpt"
é¦™æ¸¯èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong)"
æ—¥æœ¬èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan)"
å°æ¹¾èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(å°|TW|Tai)"
éŸ©å›½èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡°ğŸ‡·|KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)"
ç¾å›½èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡ºğŸ‡¸|ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States)"
æ–°åŠ å¡èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)"

[Proxy Group]
# ç­–ç•¥é€‰æ‹©
Static = select,Auto Fast,Failover,æ¨æ˜å®‡,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Static.png
Auto Fast = url-test,æ¨æ˜å®‡,All,url = http://www.apple.com/library/test/success.html,interval = 180,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
Failover = fallback,æ¨æ˜å®‡,All,url = http://www.apple.com/library/test/success.html,interval = 180,max-timeout = 3000,img-url = https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/apps/FallBack.png
TikTok = load-balance,æ—¥æœ¬èŠ‚ç‚¹,url = http://www.apple.com/library/test/success.html,interval = 360,max-timeout = 3000,algorithm = pcc,img-url = https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/lige47/tiktok.png
ChatGPT = load-balance,AI,ç¾å›½èŠ‚ç‚¹,url = http://www.apple.com/library/test/success.html,interval = 360,max-timeout = 3000,algorithm = pcc,img-url = https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/lige47/ChatGPT.png
Telegram = select,Auto Fast,Failover,img-url = https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/lige47/telegram.png
Speed = select,æ¨æ˜å®‡,Auto Fast,Failover,img-url = speedometer

# æœ¬åœ°
[Rule]
GEOIP,cn,DIRECT
FINAL,Static

[Remote Rule]
# DIY
https://raw.githubusercontent.com/Y-7-0101/ymy/main/LIST/ymy-direct.list, policy=DIRECT, tag=DIY-DIRECT, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/LIST/ymy-proxy.list, policy=Failover, tag=DIY-PROXY, enabled=true

# Remove ADsï¼ï¼ï¼
https://yfamily.ml/rule/AntiAD.list, policy=REJECT, tag=Remove ADs, enabled=true

# å•ç‹¬åˆ†æµ
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/TikTok/TikTok.list, policy=TikTok, tag=TikTok, enabled=true
https://yfamily.ml/rule/ai.list, policy=ChatGPT, tag=AI, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Telegram/Telegram.list, policy=Telegram, tag=Telegram, parser-enable=true, enabled=true

# ä»£ç†
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy.list, policy=Static, tag=PROXY, enabled=true
# DIRECT
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/ChinaMax/ChinaMax.list, policy=DIRECT, tag=DIRECT, enabled=true

# Speed
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Speedtest/Speedtest.list, policy=Speed, tag=Speed, parser-enable=true, enabled=true

[Rewrite]
^https?://(www.)?g.cn 302 https://www.google.com
^https?://(www.)?google.cn 302 https://www.google.com
(?<=_region=)CN(?=&) 307 JP
(?<=&mcc_mnc=)4 307 2
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) 302 $1$3
(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) 302 $118.0$3

[Script]

[Plugin]
# ğŸ˜„
https://github.com/VirgilClyne/GetSomeFries/raw/main/plugin/General.plugin, enabled=true
https://github.com/VirgilClyne/GetSomeFries/raw/main/plugin/HTTPDNS.Block.plugin, enabled=true
# æ¥ç€æ€
https://yfamily.ml/plugin/adultraplus.pluginloon?x=bilibili+x=testflight+x=youku, tag=APPå¯åŠ¨é¡µå»å¹¿å‘Šultra+, enabled=true
https://raw.githubusercontent.com/chxm1023/Script_X/main/Collections.plugin, tag=Appè§£é”åˆé›†, enabled=true
# å“¦å“¦å“¦è€¶
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Steps%20Update%20Love.plugin, policy=Steps Update, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Bing%20AI.plugin, policy=ChatGPT, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/aliyun.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/BiliBili.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/JD%20price%20comparison.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/TF%20Detection.plugin, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/Loon/Loon_TF_Account.plugin, enabled=true
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Plugin/Bilibili_remove_ads.plugin, enabled=true
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Plugin/YouTube_remove_ads.plugin, enabled=true
https://yfamily.ml/plugin/wechatread.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Node%20detection%20tool.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Loon%20plugin%20control.plugin, enabled=true
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Plugin/LoonGallery.plugin, policy=Static, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.loon.plugin, policy=Static, enabled=true

[Mitm]
enable = false
skip-server-cert-verify = true
hostname = *.google.cn,*.tiktokv.com,*.byteoversea.com,*.tik-tokapi.com
