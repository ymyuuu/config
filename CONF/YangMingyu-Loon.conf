# @YangMingyu
# https://t.me/ymyuuu
# æ›´æ–°æ—¥æœŸ: 2023-06-23
# å¹¸æœ‰æˆ‘æ¥å±±æœªå­¤

[General]
# IPv6
ipv6 = true
# è·³è¿‡åŸŸåæˆ–è€…IPæ®µ
skip-proxy = 10.0.0.0/8,127.0.0.0/8,169.254.0.0/16,192.0.2.0/24,192.168.0.0/16,198.51.100.0/24,224.0.0.0/4,*.local,localhost
bypass-tun = 10.0.0.0/8,127.0.0.0/8,169.254.0.0/16,192.0.2.0/24,192.168.0.0/16,198.51.100.0/24,224.0.0.0/4
# DNS
dns-server = system,
# DOH 
# doh-server = https://dns.alidns.com/dns-query
# Real-Ip
real-ip = *.iCloud.com,*.apple.com
# Wi-Fi è®¿é—®
allow-wifi-access = false
wifi-access-http-port = 2003
wifi-access-socks5-port = 101
# ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.apple.com/library/test/success.html
# æµ‹é€Ÿè¶…æ—¶ (s)
test-timeout = 2
# èŠ‚ç‚¹è¿ç»­å¤±è´¥å‡ æ¬¡åè¿›è¡ŒèŠ‚ç‚¹åˆ‡æ¢
switch-node-after-failure-times = 1
# ç½‘ç»œæ¥å£æ¨¡å¼
interface-mode = auto
# udp
allow-udp-proxy = true
# udpç«¯å£ç¦ç”¨
disable-udp-ports = 443
# ä¸¢å¼ƒ STUN
disable-stun = true
# å¿«é€Ÿåˆ‡æ¢
fast-switch = false
# ç­–ç•¥åˆ‡æ¢æ—¶å…³é—­é“¾æ¥
disconnect-on-policy-change = false
# è§£æå™¨
resource-parser = https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Resource/Script/Sub-Store/sub-store-parser_for_loon.js
# geoip
geoip-url = https://github.com/Masaiki/GeoIP2-CN/raw/release/Country.mmdb
# sin
sni-sniffing = true

[Host]
host = 127.0.0.1

[Proxy]

[Remote Proxy]

[Remote Filter]
# èŠ‚ç‚¹åˆ†ç»„
All = NameRegex, FilterKey ="^(?=.*(.*))(?!.*((?i)é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|TG|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|ğŸ®|(\b(GAME|USE|USED|TOTAL|EXPIRE|EMAIL|Panel)\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$"
AI = NameRegex, FilterKey = "GPT|AI|gpt"
é¦™æ¸¯èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong)"
æ—¥æœ¬èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan)"
å°æ¹¾èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(å°|TW|Tai)"
éŸ©å›½èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡°ğŸ‡·|KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)"
ç¾å›½èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡ºğŸ‡¸|ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States)"
æ–°åŠ å¡èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)"

[Proxy Group]
# ç­–ç•¥é€‰æ‹©
Static = select,Auto Fast,ç›´è¿,All,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Static.png
Auto Fast = url-test,All,url = http://www.apple.com/library/test/success.html,interval = 180,tolerance = 50,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
TikTok = url-test,æ—¥æœ¬èŠ‚ç‚¹,url = http://www.apple.com/library/test/success.html,interval = 360,tolerance = 50,img-url = https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/lige47/tiktok.png
ChatGPT = url-test,AI,ç¾å›½èŠ‚ç‚¹,url = http://www.apple.com/library/test/success.html,interval = 360,tolerance = 50,img-url = https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/lige47/ChatGPT.png
ç›´è¿ = select,DIRECT,img-url = https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/direct.png

# æœ¬åœ°
[Rule]
GEOIP,cn,ç›´è¿
FINAL,Static

[Remote Rule]
# DIY
https://raw.githubusercontent.com/Y-7-0101/ymy/main/LIST/ymy-direct.list, policy=ç›´è¿, tag=DIY-DIRECT, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/LIST/ymy-proxy.list, policy=Static, tag=DIY-PROXY, enabled=true

# æ€
https://yfamily.ml/rule/AntiAD.list, policy=REJECT, tag=DIE, enabled=true

# å•ç‹¬åˆ†æµ
https://yfamily.ml/rule/ai.list, policy=ChatGPT, tag=Ai, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/TikTok/TikTok.list, policy=TikTok, tag=TikTok, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Telegram/Telegram.list, policy=Static, tag=Telegram, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Google/Google.list, policy=Static, tag=Google, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Twitter/Twitter.list, policy=Static, tag=Twitter, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Microsoft/Microsoft.list, policy=Static, tag=Microsoft, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/YouTube/YouTube.list, policy=Static, tag=YouTube, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/AppleMail/AppleMail.list, policy=ç›´è¿, tag=AppleMail, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Apple/Apple.list, policy=ç›´è¿, tag=Apple, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/WeChat/WeChat.list, policy=ç›´è¿, tag=WeChat, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Weibo/Weibo.list, policy=ç›´è¿, tag=Weibo, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/BiliBili/BiliBili.list, policy=ç›´è¿, tag=Bilibili, enabled=true

# ä»£ç†
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy.list, policy=Static, tag=Proxy, enabled=true
# ç›´è¿
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/ChinaMax/ChinaMax.list, policy=ç›´è¿, tag=ChinaMax, enabled=true

# Speed
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Speedtest/Speedtest.list, policy=Static, tag=speed, enabled=true

[Rewrite]
^https?://(www.)?g.cn 302 https://www.google.com
^https?://(www.)?google.cn 302 https://www.google.com
(?<=_region=)CN(?=&) 307 JP
(?<=&mcc_mnc=)4 307 2
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) 302 $1$3
(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) 302 $118.0$3

[Script]

[Plugin]
# ğŸ˜„
https://github.com/VirgilClyne/GetSomeFries/raw/main/plugin/General.plugin, enabled=true
https://github.com/VirgilClyne/GetSomeFries/raw/main/plugin/DNS.plugin, enabled=true
https://github.com/VirgilClyne/GetSomeFries/raw/main/plugin/HTTPDNS.Block.plugin, enabled=true
# æ¥ç€æ€
https://yfamily.ml/plugin/adultra.plugin, enabled=true
https://raw.githubusercontent.com/chxm1023/Script_X/main/Collections.plugin, tag=Appè§£é”åˆé›†, enabled=true
# å“¦å“¦å“¦è€¶
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Steps%20Update%20Love.plugin, policy=Steps Update, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Bing%20AI.plugin, policy=ChatGPT, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/aliyun.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/BiliBili.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/JD%20price%20comparison.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/TF%20Detection.plugin, enabled=true
https://github.com/VirgilClyne/iRingo/raw/main/plugin/TestFlight.plugin, enabled=true
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Plugin/YouTube_remove_ads.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Node%20detection%20tool.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Loon%20plugin%20control.plugin, enabled=true
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Plugin/LoonGallery.plugin, policy=Static, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.loon.plugin, policy=Static, enabled=true
https://yfamily.ml/plugin/startingad.plugin, enabled=false
https://yfamily.ml/plugin/adultraplus.plugin, enabled=false
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/aliyuntoken.plugin, enabled=false
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Auto%20TF.pluginloon?x=appid+tfkey, policy=Static, tag=è‡ªåŠ¨åŠ å…¥TF, enabled=false
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Plugin/Sub-Store.plugin, policy=Static, enabled=false

[Mitm]
enable = false
skip-server-cert-verify = true
hostname = *.google.cn,*.tiktokv.com,*.byteoversea.com,*.tik-tokapi.com
