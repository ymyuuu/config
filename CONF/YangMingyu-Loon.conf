# YangMingyu
# https://t.me/ymyuuu
# æ›´æ–°æ—¥æœŸ: 2023-06-16
# å¹¸æœ‰æˆ‘æ¥å±±æœªå­¤

[General]
fast-switch = false
ipv6 = true
# è·³è¿‡æŸä¸ªåŸŸåæˆ–è€…IPæ®µ
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32,239.255.255.250/32
# DNS æœåŠ¡å™¨
dns-server = system,119.29.29.29,223.5.5.5
doh-server = https://doh.pub/dns-query,https://dns.alidns.com/dns-query
# udp
allow-udp-proxy = true
# Wi-Fi è®¿é—®
allow-wifi-access = false
wifi-access-http-port = 2003
wifi-access-socks5-port = 101
# æµ‹é€Ÿè¶…æ—¶ (s)
test-timeout = 5
interface-mode = auto
proxy-test-url = http://www.qualcomm.cn/generate_204
# å½“èŠ‚ç‚¹è¿ç»­å¤±è´¥å¤šå°‘æ¬¡åå¼€å§‹åˆ‡æ¢èŠ‚ç‚¹
switch-node-after-failure-times = 3
sni-sniffing = true
disconnect-on-policy-change = false
# è§£æå™¨
resource-parser = https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Resource/Script/Sub-Store/sub-store-parser_for_loon.js
# geoip
geoip-url = https://github.com/Masaiki/GeoIP2-CN/raw/release/Country.mmdb
# ç­–ç•¥åˆ‡æ¢æ—¶å…³é—­é“¾æ¥
disconnect-on-policy-change = false
# udpç«¯å£ç¦ç”¨
disable-stun = true
disable-udp-ports = 443

[Proxy]

[Remote Proxy]

[Remote Filter]
# èŠ‚ç‚¹åˆ†ç»„
All = NameRegex, FilterKey = ".*$"
AI = NameRegex, FilterKey = "GPT|AI|gpt"
é¦™æ¸¯èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong)"
æ—¥æœ¬èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan)"
å°æ¹¾èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(å°|TW|Tai)"
éŸ©å›½èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡°ğŸ‡·|KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)"
ç¾å›½èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡ºğŸ‡¸|ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States)"
æ–°åŠ å¡èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)"

[Proxy Group]
# ç­–ç•¥é€‰æ‹©
Static = select,Auto Fast,ç›´è¿,All,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Static.png
Auto Fast = url-test,All,url = http://www.qualcomm.cn/generate_204,interval = 300,tolerance = 30,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
TikTok = url-test,æ—¥æœ¬èŠ‚ç‚¹,url = http://www.qualcomm.cn/generate_204,interval = 300,tolerance = 30,img-url = https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/lige47/tiktok.png
ChatGPT = url-test,AI,ç¾å›½èŠ‚ç‚¹,url = http://www.qualcomm.cn/generate_204,interval = 300,tolerance = 30,img-url = https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/lige47/ChatGPT.png
ç›´è¿ = select,DIRECT,img-url = https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/direct.png

# æœ¬åœ°
[Rule]
GEOIP,cn,ç›´è¿
FINAL,Static

[Remote Rule]
# DIY
https://raw.githubusercontent.com/Y-7-0101/ymy/main/LIST/ymy.list, policy=Static, tag=DIY, enabled=true

# æ€
https://yfamily.ml/rule/AntiAD.list, policy=REJECT, tag=DIE, enabled=true

# å•ç‹¬åˆ†æµ
https://yfamily.ml/rule/ai.list, policy=ChatGPT, tag=Ai, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/TikTok/TikTok.list, policy=TikTok, tag=TikTok, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Telegram/Telegram.list, policy=Static, tag=Telegram, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Google/Google.list, policy=Static, tag=Google, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Twitter/Twitter.list, policy=Static, tag=Twitter, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Microsoft/Microsoft.list, policy=Static, tag=Microsoft, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/YouTube/YouTube.list, policy=Static, tag=YouTube, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/AppleMail/AppleMail.list, policy=ç›´è¿, tag=AppleMail, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Apple/Apple.list, policy=ç›´è¿, tag=Apple, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/WeChat/WeChat.list, policy=ç›´è¿, tag=WeChat, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Weibo/Weibo.list, policy=ç›´è¿, tag=Weibo, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/BiliBili/BiliBili.list, policy=ç›´è¿, tag=Bilibili, enabled=true

# ä»£ç†
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy.list, policy=Static, tag=Proxy, enabled=true

# ç›´è¿
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/ChinaMax/ChinaMax.list, policy=ç›´è¿, tag=ChinaMax, enabled=true


[Host]

[Rewrite]
^https?://(www.)?g.cn 302 https://www.google.com
^https?://(www.)?google.cn 302 https://www.google.com
(?<=_region=)CN(?=&) 307 JP
(?<=&mcc_mnc=)4 307 2
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) 302 $1$3
(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) 302 $118.0$3

[Script]

[Plugin]
# ä¸»æ‰“å°±æ˜¯ç»™ä½ æé€Ÿ
https://github.com/VirgilClyne/GetSomeFries/raw/main/plugin/HTTPDNS.Block.plugin, enabled=true
https://github.com/VirgilClyne/GetSomeFries/raw/main/plugin/General.plugin, enabled=true
https://github.com/VirgilClyne/GetSomeFries/raw/main/plugin/DNS.plugin, enabled=true
# æ¥ç€æ€
https://yfamily.ml/plugin/startingad.plugin, enabled=true
https://yfamily.ml/plugin/adultra.plugin, enabled=true
https://yfamily.ml/plugin/adultraplus.plugin, enabled=true
# å“¦å“¦å“¦è€¶
https://raw.githubusercontent.com/chxm1023/Script_X/main/Collections.plugin, tag=Appè§£é”åˆé›†, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Node%20detection%20tool.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/aliyun.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/BiliBili.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/TF.plugin, enabled=true
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Plugin/BingAI.plugin, policy=ChatGPT, enabled=true
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Plugin/YouTube_remove_ads.plugin, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.loon.plugin, policy=Static, enabled=true
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Plugin/LoonGallery.plugin, policy=Static, enabled=true
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Plugin/Sub-Store.plugin, policy=Static, enabled=true
https://github.com/VirgilClyne/iRingo/raw/main/plugin/TestFlight.plugin, enabled=true
https://raw.githubusercontent.com/chengkongyiban/Loon/main/Loon-Gallery/Rewrite_to_Loon.plugin, enabled=true
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/aliyuntoken.plugin, enabled=false
https://raw.githubusercontent.com/Y-7-0101/ymy/main/PLUGIN/Auto%20TF.pluginloon?x=appid+tfkey, policy=Static, tag=è‡ªåŠ¨åŠ å…¥TF, enabled=false

[Mitm]
enable = false
skip-server-cert-verify = true
hostname = *.google.cn,*.tiktokv.com,*.byteoversea.com,*.tik-tokapi.com
